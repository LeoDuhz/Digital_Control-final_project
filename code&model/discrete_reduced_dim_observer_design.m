% This part is used for obsever design 
G = [1 0 0 0.01 0 0;
        0 1.0095 -0.0059 0 0.01 0;
        0 -0.0046 1.0043 0 0 0.01;
        0 0 0 1 0 0;
        0 1.909 -1.1747 0 1.0095 -0.0059;
        0 -0.9129 0.8583 0 -0.0046 1.0043];
H = [0.0001 0.0004 0 0.01 0.0741 -0.0056]';
C = [1 0 0 0 0 0;
        0 1 0 0 0 0;
        0 0 1 0 0 0];
D = [0 0 0]';

A11 = A(1:3,1:3);
A12 = A(1:3,4:6);
A21 = A(4:6,1:3);
A22 = A(4:6,4:6);

B1 = B(1:3);
B2 = B(4:6);

% desired obsever poles setting
%J = [-7.07+7.07i,-7.07-7.07i,-1,-2,-3,-4];
J = [0.9767,0.0001,0.0001];
% place method to get K
KK = place(A22',A12',J);
L = KK';

F = A22 - L *  A12;
G = A21 - L *  A11 + F * L;
H = B2 - L * B1;